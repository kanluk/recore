#ifndef DEBUG_GLSL
#define DEBUG_GLSL

const vec3 DEBUG_COLORS[] = {
    vec3(0.12668547634024574, 0.20586055704951933, 0.733722961816513),
    vec3(0.5600506365318962, 0.4952488251049827, 0.17000044686077942),
    vec3(0.07237590259136972, 0.333422102327499, 0.01082655280080047),
    vec3(0.12069127811512292, 0.043535367877750475, 0.48584684660828914),
    vec3(0.4239388074560161, 0.2128139214188115, 0.5344745904781035),
    vec3(0.9830396264038581, 0.14933841875850684, 0.42160841147296657),
    vec3(0.6444334270192212, 0.1442820098502805, 0.22779387398848328),
    vec3(0.36259354540633104, 0.6806390564125966, 0.22710689792711625),
    vec3(0.4410834446288917, 0.30704777111629766, 0.18897419223330814),
    vec3(0.5547433117005656, 0.5818600751413429, 0.16592599139913944),
    vec3(0.2438633222141301, 0.9882050636393828, 0.3212005209236922),
    vec3(0.3003969610452847, 0.5289750937271215, 0.5781514183601844),
    vec3(0.9348939078809855, 0.00583838267057013, 0.706817499999103),
    vec3(0.7043355161359658, 0.7452214306504721, 0.9341173515313131),
    vec3(0.8065942621251507, 0.21173782675724817, 0.3269533765038637),
    vec3(0.4518034036767862, 0.3764808179791712, 0.4515516488423408),
    vec3(0.019822213136960642, 0.41699075671663444, 0.6576997031428039),
    vec3(0.8200124230122199, 0.4872767188558015, 0.03384429738917061),
    vec3(0.31840310441539554, 0.9426541420309904, 0.3842592940076268),
    vec3(0.15959690923516578, 0.778531158309735, 0.16805575478213797),
    vec3(0.7424494566990272, 0.029762417610089797, 0.6643297189730651),
    vec3(0.5080780849581596, 0.028847447244613744, 0.13242918526143732),
    vec3(0.38361157713573546, 0.9365603230440068, 0.2637151850421874),
    vec3(0.949163105238579, 0.3244601962268514, 0.3040685638298537),
    vec3(0.33889479181600457, 0.4447150380898832, 0.12083870123186802),
    vec3(0.3864406467740147, 0.039180714578459175, 0.8425117575598011),
    vec3(0.40245139426654775, 0.11486711756899837, 0.789196692364161),
    vec3(0.6398285275997467, 0.29535043133064054, 0.45384782502480114),
    vec3(0.6075668986070247, 0.6562537209109687, 0.30847035194378103),
    vec3(0.17904350626182974, 0.7429717139521939, 0.27050047867903004),
    vec3(0.43643052194058984, 0.4772428567499313, 0.7611423614599201),
    vec3(0.3188001800766891, 0.15686201914015085, 0.716189375680496),
    vec3(0.8939223285562673, 0.7197020073037274, 0.4483358609940349),
    vec3(0.197908857132978, 0.5585616065166047, 0.40772532391553007),
    vec3(0.4641199790255496, 0.5191004138529008, 0.29923524593584594),
    vec3(0.31502696974746447, 0.4641979372161019, 0.5052484087309163),
    vec3(0.7996291708474401, 0.11761126762460294, 0.3786112772621204),
    vec3(0.3325998515686136, 0.3799668366965867, 0.5318209118530965),
    vec3(0.245053558414441, 0.44779185232131635, 0.06817761814594636),
    vec3(0.05799898312820673, 0.248107558800173, 0.24370808078144268),
    vec3(0.8827294027268645, 0.0891978786236064, 0.16965419883405453),
    vec3(0.5480749576875282, 0.3975070316682189, 0.9380415360536604),
    vec3(0.3671145118604211, 0.07283963371606406, 0.4277978514430443),
    vec3(0.1166003373696618, 0.9715050723750218, 0.43266326394287724),
    vec3(0.07433044781611475, 0.6405892797906831, 0.18512387099129557),
    vec3(0.8810643112612537, 0.18582824352914074, 0.8767158475343038),
    vec3(0.5009976548301434, 0.12773961459273608, 0.9814347245735889),
    vec3(0.8885515283560185, 0.8949193925278941, 0.47485809025404735),
    vec3(0.05484922501431522, 0.08717652447341584, 0.9426177587851953),
    vec3(0.6772688043206146, 0.7009965639354596, 0.9257359850937046),
    vec3(0.674386097941224, 0.9740158363791966, 0.9641680619716665),
    vec3(0.25760942718033764, 0.5843486879365689, 0.4508886727775421),
    vec3(0.11481276164849918, 0.7384776281083058, 0.3563079248416543),
    vec3(0.5422461357178786, 0.22126969733595125, 0.8904765286923216),
    vec3(0.07993757933926127, 0.6660852235950546, 0.05704715817400818),
    vec3(0.9907843448862375, 0.48389539939478987, 0.9160040830124353),
    vec3(0.14405454875807566, 0.13361796222921707, 0.706328025530789),
    vec3(0.4386818794864564, 0.498179417499225, 0.5198161773874516),
    vec3(0.006892432015960792, 0.48051713111405847, 0.5219347139059629),
    vec3(0.5822321819720004, 0.7883405765094539, 0.6411786692194488),
    vec3(0.14980730566705458, 0.01109585496097687, 0.3935718959207676),
    vec3(0.7148030246184583, 0.719602938588581, 0.8255654828737204),
    vec3(0.28571851480305954, 0.16686143116757268, 0.24067073107881487),
    vec3(0.16391068743598114, 0.52360568937924, 0.6611856750633767),
    vec3(0.019019159575504152, 0.5797020995745598, 0.10210908190774726),
    vec3(0.303915925595987, 0.5798484352219875, 0.864794510801122),
    vec3(0.4639284762569623, 0.9630530308219578, 0.9558645146915806),
    vec3(0.5880646634090534, 0.848375575534927, 0.5909840345470936),
    vec3(0.4619162637786455, 0.3625337763753439, 0.071351301103879),
    vec3(0.9767722198322576, 0.11633726220861307, 0.45544910725197063),
    vec3(0.08931755681300135, 0.8879265369099281, 0.08647493185482746),
    vec3(0.5192760267330362, 0.9599550078446147, 0.04694048490805136),
    vec3(0.3280309704958374, 0.17515027369699931, 0.4335448137340091),
    vec3(0.9418117920767953, 0.08502103345453726, 0.8895324285811568),
    vec3(0.6421161295701102, 0.19721782744607264, 0.6495314297672602),
    vec3(0.27628724816676453, 0.16800280373297816, 0.23692455682890556),
    vec3(0.048008665130860884, 0.028434866298591266, 0.28092149262599875),
    vec3(0.630767663527396, 0.9864076816439166, 0.9878480296469893),
    vec3(0.9483558072723176, 0.08314632672425837, 0.2213088461373468),
    vec3(0.5300912879436208, 0.009716621485013621, 0.5061321679654743),
    vec3(0.20728334204075294, 0.04151893357473235, 0.4207436058460551),
    vec3(0.2235991707753998, 0.06415736067557132, 0.888206545047132),
    vec3(0.2689353815242499, 0.481880096050588, 0.8665890238464125),
    vec3(0.43486499136478873, 0.00911419292066129, 0.33975413771424345),
    vec3(0.6914549230202837, 0.5450701073206771, 0.28217902699757735),
    vec3(0.3467979693230465, 0.749413449098195, 0.6059891537546483),
    vec3(0.5598738227557486, 0.0534257283810029, 0.9110588542208693),
    vec3(0.7769971127886862, 0.722085203924608, 0.6744892291391108),
    vec3(0.2652700892078893, 0.7973729573725115, 0.3794432620973166),
    vec3(0.7634571265170778, 0.6155328546839821, 0.54594551286435),
    vec3(0.3171228661824289, 0.9107996912542009, 0.382375977800575),
    vec3(0.3573255866606856, 0.03891676634978403, 0.21647612139551764),
    vec3(0.2842091735356652, 0.5865803659426647, 0.788703570501988),
    vec3(0.7093346949732665, 0.0593225366593948, 0.4669636192516393),
    vec3(0.3831009894334442, 0.8836317182775185, 0.41439152498211285),
    vec3(0.029670558679959824, 0.9099144608422532, 0.8529301899584467),
    vec3(0.7021644761246114, 0.13842624146580995, 0.8814117396399824),
    vec3(0.12557064655642602, 0.185116571956512, 0.1829539586722515),
    vec3(0.340654774410035, 0.887744872700669, 0.8516232975062493),
    vec3(0.6638916335402824, 0.9527890077263331, 0.2738456122452253)};

vec3 Debug_uintToColor(uint i) {
    return DEBUG_COLORS[i % DEBUG_COLORS.length()];
}

float saturate(float x) {
  return clamp(x, 0.0, 1.0);
}

vec3 viridis(float x) {
  x = saturate(x);
  vec4 x1 = vec4(1.0, x, x * x, x * x * x); // 1 x x2 x3
  vec4 x2 = x1 * x1.w * x;                    // x4 x5 x6 x7
  return vec3(
      dot(x1.xyzw, vec4(+0.280268003, -0.143510503, +2.225793877, -14.815088879)) + dot(x2.xy, vec2(+25.212752309, -11.772589584)),
      dot(x1.xyzw, vec4(-0.002117546, +1.617109353, -1.909305070, +2.701152864)) + dot(x2.xy, vec2(-1.685288385, +0.178738871)),
      dot(x1.xyzw, vec4(+0.300805501, +2.614650302, -12.019139090, +28.933559110)) + dot(x2.xy, vec2(-33.491294770, +13.762053843))
  );
}


#endif // DEBUG_GLSL
